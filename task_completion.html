<!DOCTYPE html>

<html>

<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>Task Completion</title>

<!-- Load style sheets -->
<link rel="stylesheet" type="text/css" href="task_completion.css" />

<!-- Load any supplemental Javascript libraries here: jQuery UI -->
<script type="text/javascript" src="external_js/jquery-1.9.0.min.js"></script>
<script type="text/javascript" src="external_js/jquery-ui-1.10.0.custom.min.js"></script>
<script type="text/javascript" src="static_js/task.js"></script>
<script type="text/javascript" src="static_js/member.js"></script>

<script type="text/javascript">

    // This allows the Javascript code inside this block to only run when the page
    // has finished loading in the browser.
    $(document).ready(function() {
    
    	/*// Family Members
    	var family_members = {};
    	family_members['Cersei'] = new member('Cersei', 'assets/Cersei.jpg');
    	family_members['Robert'] = new member('Robert', 'assets/Robert.jpg');
    	family_members['Joffrey'] = new member('Joffrey', 'assets/Joffrey.jpg');
    	family_members['Myrcella'] = new member('Myrcella', 'assets/Myrcella.jpg');
    	family_members['Tommen'] = new member('Tommen', 'assets/Tommen.jpg');*/
    
    	// Set task variable
    	var task = new Task('Dummy Task', 1);
    	
    	// Display Task Name
    	document.getElementById("taskName").innerHTML = task.name;
    
    	// Disable buttons
    	document.getElementById('btnClaim').disabled = true;
    	document.getElementById('btnComplete').disabled = true;
    	
    	var currently_selected = '';
    	
    	// Selects a family member when clicked
    	$('.selectionCell').click(function(evt) {
    		currently_selected = evt.target.id;
    		document.getElementById("selectedName").innerHTML = currently_selected;
    		$('.selectionPic').css('border-width', '0px');
    		$('#'+currently_selected).css('border-width', '3px');
    		$('#selectedPerson').attr('src', 'assets/'+currently_selected+'.jpg');
    		$('#buttonTable').css('margin-top', '14px');
    		document.getElementById('btnClaim').disabled = false;
    		document.getElementById('btnComplete').disabled = false;
    	});
    	
		// Cancel Button
		$('#btnCancel').click(function(evt) {
    		
    	});
    	
    	// Claim Button
		$('#btnClaim').click(function(evt) {
    		task.status = 'claimed';
    		task.assignedTo = currently_selected;
    	});
    	
    	// Complete Button
		$('#btnComplete').click(function(evt) {
    		task.status = 'completed';
    		task.assignedTo = currently_selected;
    		task.finished = currently_selected;
    	});


    });
</script>


</head>

<body>
    <div id="completionWindow">

        <span id="taskName">Task Name</span>
        <br>

        <img src="assets/unknown_person.jpg" id="selectedPerson"></img>
        <br>

        <span id="selectedName">Select Family Member</span>
        <br>

        <table id="selectionTable"><tr>

            <td class="selectionCell"><img src="assets/Cersei.jpg" class="selectionPic" id="Cersei" /></td>
            <td class="selectionCell"><img src="assets/Robert.jpg" class="selectionPic" id="Robert" /></td>
            <td class="selectionCell"><img src="assets/Joffrey.jpg" class="selectionPic" id="Joffrey" /></td>
            <td class="selectionCell"><img src="assets/Myrcella.jpg" class="selectionPic" id="Myrcella" /></td>
            <td class="selectionCell"><img src="assets/Tommen.jpg" class="selectionPic" id="Tommen" /></td>

        </tr></table>
        <br>

        <table id="buttonTable"><tr>

            <td><input id="btnCancel" class="completeButton" type="button" name="new" value="Cancel"/></td>

            <td><input id="btnClaim" class="completeButton" disabled="true" type="button" name="new" value="I'm Working On It!"/></td>

            <td><input id="btnComplete" class="completeButton" disabled="true" type="button" name="new" value="I'm Finished!"/></td> 


        </tr></table>

    </div>
</body>

</html>
